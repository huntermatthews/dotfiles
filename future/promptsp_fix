if ! eval '[[ -o promptsp ]] 2>/dev/null'; then
    function precmd {
        # An efficient version using termcap multi-right:
        echo -n ' '       # Output 1 space
        echotc RI $((COLUMNS - 3))
        echo -n '  '      # Output 2 spaces
        # Alternately, try replacing the above 3 lines with this echo
        # that outputs a screen-column-width of spaces:
        #echo -n ${(l:$COLUMNS:::):-}
    }
fi
